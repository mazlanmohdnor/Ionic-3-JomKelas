{"version":3,"sources":["../../src/pages/offerride/offerride.module.ts","../../src/pipes/pipes.module.ts","../../src/pipes/keyobject/keyobject.ts","../../src/pages/offerride/offerride.ts"],"names":[],"mappings":"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","file":"4.js","sourcesContent":["import { PipesModule } from './../../pipes/pipes.module';\nimport { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { OfferridePage } from './offerride';\n\n@NgModule({\n  declarations: [\n    OfferridePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(OfferridePage),\n    PipesModule,\n  ],\n})\nexport class OfferridePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/offerride/offerride.module.ts","import { NgModule } from '@angular/core';\nimport { KeyobjectPipe } from './keyobject/keyobject';\n@NgModule({\n\tdeclarations: [KeyobjectPipe],\n\timports: [],\n\texports: [KeyobjectPipe]\n})\nexport class PipesModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/pipes.module.ts","import { Pipe, PipeTransform } from '@angular/core';\n\n\n@Pipe({\n  name: 'keyobject',\n})\nexport class KeyobjectPipe implements PipeTransform {\n  transform(value:any, args: any[]): any {\n    let keys = [];\n    for (let key in value) {\n      // keys.push({ key: key, value: value[key] });\n      return Object.keys(value).map(key => Object.assign({ key }, value[key]));\n    }\n    return keys;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/keyobject/keyobject.ts","import { Car } from './../../model/car';\nimport { OfferRideModel } from './../../model/offerridemodel';\nimport { Classes } from './../../model/classes';\nimport { College } from './../../model/college';\nimport { AngularFireDatabase } from 'angularfire2/database';\nimport { AngularFireAuth } from 'angularfire2/auth';\nimport { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, Keyboard, AlertController } from 'ionic-angular';\nimport { DatePicker } from '@ionic-native/date-picker';\n\n@IonicPage()\n@Component({\n  selector: 'page-offerride',\n  templateUrl: 'offerride.html',\n})\nexport class OfferridePage {\n  offerride = {} as OfferRideModel;\n  \n  destinationData: any;\n  fromData: any;\n  \n  classes = {} as Classes;\n  colleges = {} as College;\n  vehicles = {} as Car;\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    private datePicker: DatePicker,\n    public fire: AngularFireAuth,\n    public firebaseDB: AngularFireDatabase,\n    public keyboard: Keyboard,\n    public alertCtrl: AlertController,\n  ) {\n   \n  }\n\n  ionViewDidLoad() {\n    \n    this.firebaseDB.database.ref('college').on('value', (data) => {\n      this.colleges = data.val();\n      });\n   \n    this.firebaseDB.database.ref('class').on('value', (data) => {\n      this.classes = data.val();\n    });\n\n    this.fire.auth.onAuthStateChanged((user) => {\n      this.firebaseDB.database.ref(`vehicle/${user.uid}`).on('value', (data) => {\n        this.vehicles = data.val();\n      });\n\n      this.firebaseDB.database.ref(`userProfile/${user.uid}`).on('value', (data) => {\n        this.offerride.name = data.val().fullname;\n        this.offerride.userPhotoURL = data.val().photoURL;\n      });\n    })  \n\n    \n  }\n\n\n\n\n  destinationSelected(event) {\n    if (event ==='collegeToClass') {\n      this.destinationFromFunction('college');\n      this.destinationToFuntion('class');\n    } else if (event === 'classToCollege') {\n      this.destinationFromFunction('class');\n      this.destinationToFuntion('college');\n    }else if (event === 'collegeToCollege') {\n      this.destinationFromFunction('college');\n      this.destinationToFuntion('college');\n    } else if (event === 'classToClass') {\n      this.destinationFromFunction('class');\n      this.destinationToFuntion('class');\n    }\n  }\n  \n  destinationFromFunction(from: string) {\n    this.firebaseDB.database.ref(from).on('value', (data) => {\n      this.fromData = data.val();\n      console.log(data.val());\n    });\n  }\n\n  destinationToFuntion(to) {\n    this.firebaseDB.database.ref(to).on('value', (data) => {\n      this.destinationData = data.val();\n      console.log(data.val());\n    });\n  }\n\n  datepicker() {\n    this.keyboard.close();\n    this.datePicker.show({\n      allowOldDates: false,\n      minDate:  new Date().valueOf(),\n      date: new Date(),\n      mode: 'date',\n      todayText: 'Today',\n      androidTheme: 5\n    }).then(date => {\n        console.log('Got date: ', date)\n        this.offerride.date = date.toDateString();\n      } ,\n      err => console.log('Error occurred while getting date: ', err)\n      );\n  }\n\n  timepicker() {\n    this.datePicker.show({\n      date: new Date(),\n      mode: 'time',\n      androidTheme: this.datePicker.ANDROID_THEMES.THEME_DEVICE_DEFAULT_LIGHT\n    }).then(\n      time => {\n        console.log('Got date: ', time)\n        this.offerride.time = time.toLocaleTimeString();\n      },\n      err => console.log('Error occurred while getting date: ', err)\n      );\n  }\n\n  datepickerisRoundTrip() {\n    this.keyboard.close();\n    this.datePicker.show({\n      allowOldDates: false,\n      minDate: new Date().valueOf(),\n      date: new Date(),\n      mode: 'date',\n      todayText: 'Today',\n      androidTheme: 5\n    }).then(date => {\n      console.log('Got date: ', date)\n      this.offerride.dateRoundTrip = date.toDateString();\n    },\n      err => console.log('Error occurred while getting date: ', err)\n      );\n  }\n\n  timepickerisRoundTrip() {\n    this.datePicker.show({\n      date: new Date(),\n      mode: 'time',\n      androidTheme: this.datePicker.ANDROID_THEMES.THEME_DEVICE_DEFAULT_LIGHT\n    }).then(\n      time => {\n        console.log('Got date: ', time)\n        this.offerride.timeRoundTrip = time.toLocaleTimeString();\n      },\n      err => console.log('Error occurred while getting date: ', err)\n      );\n  }\n\n  vehicle(plate) {\n    console.log(plate);\n    this.fire.auth.onAuthStateChanged((user) => {\n      this.firebaseDB.database.ref(`vehicle/${user.uid}/${plate}`).on('value', (data) => {\n        this.offerride.vehiclePhotoURL = data.val().photoURL;\n        // console.log(data.val());\n      });\n    })  \n  }\n\n  save() {\n    let confirm = this.alertCtrl.create({\n      title: `Add ride ${this.offerride.from}-${this.offerride.destination}:${this.offerride.date}-${this.offerride.time}?`,\n      // message: 'Do you agree to use this lightsaber to do good across the intergalactic galaxy?',\n      buttons: [\n        {\n          text: 'Cancel',\n          handler: () => {\n            console.log('Disagree clicked');\n          }\n        },\n        {\n          text: 'Ok',\n          handler: () => {\n            this.fire.auth.onAuthStateChanged((user) => {\n              this.firebaseDB.object(`/offerRides/${user.uid}/${this.offerride.from}-${this.offerride.destination}:${this.offerride.date}-${this.offerride.time}`)\n                .set(this.offerride);\n            })\n            this.navCtrl.setRoot('HomePage')\n\n          }\n        }\n      ]\n    });\n    confirm.present();\n\n\n\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/offerride/offerride.ts"],"sourceRoot":""}