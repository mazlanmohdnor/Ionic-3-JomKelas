{"version":3,"sources":["../../src/providers/auth/auth.ts","../../node_modules/@angular/core/@angular lazy","../../src lazy","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { AngularFireAuth } from 'angularfire2/auth';\nimport { AngularFireDatabase } from 'angularfire2/database';\n\nimport { Injectable } from '@angular/core';\nimport { Http } from '@angular/http';\nimport 'rxjs/add/operator/map';\n\n@Injectable()\nexport class AuthProvider {\n\n  constructor(public http: Http, public fire: AngularFireAuth, public firebaseDB: AngularFireDatabase) {\n    console.log('Hello AuthProvider Provider');\n  }\n  //Signup\n  signup(profile) {\n    // console.log(profile.matric + '@student.upm.edu.my');\n    var email = profile.matric + '@student.upm.edu.my';\n    return this.fire.auth.createUserWithEmailAndPassword(email, profile.password).then((user) => {\n      this.firebaseDB.object(`/userProfile/${user.uid}`)\n        .set({\n          displayName: \"No name\",\n          fullname: \"No name\",\n          photoURL: \"http://placehold.it/300x200\",\n          email: email,\n          emailVerified: false,\n          phoneNumber: profile.phone,\n          matricNumber: profile.matric\n        });\n    })\n  }\n  \n  signout() {\n    return this.fire.auth.signOut();\n}\n\n//   loggedinuser() {\n//     var userId = this.fire.auth.currentUser.uid;\n//     return this.firebaseDB.database.ref('/userProfile/+' + userId).once('value').then((snapshot) => {\n//       var username = (snapshot.val() && snapshot.val().username) || 'Anonymous';\n//     })\n// }  \n\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/auth/auth.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 150;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/@angular lazy\n// module id = 150\n// module chunks = 11","var map = {\n\t\"../pages/booking/booking.module\": [\n\t\t408,\n\t\t10\n\t],\n\t\"../pages/home/home.module\": [\n\t\t409,\n\t\t9\n\t],\n\t\"../pages/login/login.module\": [\n\t\t410,\n\t\t0\n\t],\n\t\"../pages/offerride/offerride.module\": [\n\t\t411,\n\t\t8\n\t],\n\t\"../pages/profile/profile.module\": [\n\t\t412,\n\t\t7\n\t],\n\t\"../pages/resetpwd/resetpwd.module\": [\n\t\t413,\n\t\t6\n\t],\n\t\"../pages/ride/ride.module\": [\n\t\t414,\n\t\t5\n\t],\n\t\"../pages/signup/signup.module\": [\n\t\t415,\n\t\t4\n\t],\n\t\"../pages/terms/terms.module\": [\n\t\t416,\n\t\t3\n\t],\n\t\"../pages/tripdetail/tripdetail.module\": [\n\t\t417,\n\t\t2\n\t],\n\t\"../pages/walkthrough/walkthrough.module\": [\n\t\t418,\n\t\t1\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids)\n\t\treturn Promise.reject(new Error(\"Cannot find module '\" + req + \"'.\"));\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(ids[0]);\n\t});\n};\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 191;\nmodule.exports = webpackAsyncContext;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 191\n// module chunks = 11","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { ErrorHandler, NgModule } from '@angular/core';\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\n\nimport { MyApp } from './app.component';\n\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { DatePicker } from '@ionic-native/date-picker';\nimport { HttpModule } from \"@angular/http\";\nimport { Facebook } from \"@ionic-native/facebook\";\nimport { IonicStorageModule } from '@ionic/storage';\nimport { AuthProvider } from '../providers/auth/auth';\n\nimport { AngularFireModule } from \"angularfire2\";\nimport { AngularFireDatabaseModule } from \"angularfire2/database\";\nimport { AngularFireAuthModule } from \"angularfire2/auth\";\nimport { NativeStorage } from '@ionic-native/native-storage';\n\nconst config = {\n    apiKey: \"AIzaSyC9fyMmIMAptUaevwGV_GLKltcFb-0fSf0\",\n    authDomain: \"jomkelas.firebaseapp.com\",\n    databaseURL: \"https://jomkelas.firebaseio.com\",\n    projectId: \"jomkelas\",\n    storageBucket: \"jomkelas.appspot.com\",\n    messagingSenderId: \"95230060980\"\n  };\n\n@NgModule({\n  declarations: [\n    MyApp\n  ],\n  imports: [\n    BrowserModule,\n    HttpModule,\n    IonicModule.forRoot(MyApp, {\n      scrollPadding: false,\n      scrollAssist: true,\n      autoFocusAssist: false\n    }),\n    AngularFireModule.initializeApp(config),\n    AngularFireDatabaseModule,\n    AngularFireAuthModule,\n    IonicStorageModule.forRoot()\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp\n  ],\n  providers: [\n    StatusBar,\n    DatePicker,\n    SplashScreen,\n    {provide: ErrorHandler, useClass: IonicErrorHandler},\n    AuthProvider,\n    Facebook,\n    NativeStorage\n  ]\n})\nexport class AppModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { AngularFireDatabase } from 'angularfire2/database';\nimport { AngularFireAuth } from 'angularfire2/auth';\nimport { AuthProvider } from './../providers/auth/auth';\nimport { Component, ViewChild  } from '@angular/core';\nimport { Nav,Platform } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { Storage } from '@ionic/storage';\n\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp {\n  @ViewChild(Nav) nav: Nav;\n  pages: Array<{title:string, subtitle:string, icon:string, page:string}>;\n\n  phone: string;\n  photoURL: string;\n  email: string;\n  displayName: string;\n\n  rootPage: any;\n  activePage: any;\n\n\n  constructor(\n    public platform: Platform,\n    public statusBar: StatusBar,\n    public splashScreen: SplashScreen,\n    public auth: AuthProvider,\n    public fire: AngularFireAuth,\n    public firebaseDB: AngularFireDatabase,\n    public storage: Storage\n  ){\n    this.initializeApp();\n\n    this.pages=[\n      { title: 'Home', subtitle: '', icon:'home', page:'HomePage'},\n      { title: 'My Rides', subtitle: 'Manage your rides', icon:'car', page:'RidePage'},\n      { title: 'My Booking', subtitle: 'Manage your booking',icon:'list-box',page:'BookingPage'},\n      { title: 'Account', subtitle: 'Manage your account', icon: 'person', page:'ProfilePage'},\n    ]\n\n    this.activePage = this.pages[0].page;\n  }\n\n  initializeApp() {\n    this.platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      this.statusBar.styleDefault();\n      this.splashScreen.hide();\n\n      //WalkthroughPage\n      // check whether user loggedin or not\n      this.fire.auth.onAuthStateChanged((user) => {\n        //check whether user had open the app, if not, set walkthrough\n        this.storage.get('intro-done').then(done => {\n          if (!done) {\n            this.storage.set('intro-done', true);\n            this.rootPage = 'WalkthroughPage';\n          }\n        });\n\n        //if user x logged in, set page ke login\n        if (!user) {\n          this.rootPage = 'LoginPage';\n        }\n        else {//kalau logged in, set ke homepage\n          this.rootPage = 'HomePage';\n          var user = this.fire.auth.currentUser;\n          user.providerData.forEach((profile) => {\n            this.displayName = profile.displayName || \"Anonymous\",\n              this.email = profile.email,\n              this.photoURL = profile.photoURL || \"assets/no-profile.png\"\n            this.phone = profile.phoneNumber || \"Phone Number\"\n          })\n        }\n      })\n    });\n  }\n\n  openPage(p) {\n    this.nav.setRoot(p);\n    this.activePage = p;\n  }\n  checkActive(p) {\n    return p==this.activePage;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts"],"sourceRoot":""}