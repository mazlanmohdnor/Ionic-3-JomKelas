{"version":3,"sources":["../../src/pages/profile/profile.module.ts","../../src/pages/profile/profile.ts"],"names":[],"mappings":"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","file":"7.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ProfilePage } from './profile';\n\n@NgModule({\n  declarations: [\n    ProfilePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ProfilePage),\n  ],\n})\nexport class ProfilePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profile/profile.module.ts","import { AngularFireDatabase } from 'angularfire2/database';\nimport { AngularFireAuth } from 'angularfire2/auth';\nimport { Facebook } from '@ionic-native/facebook';\nimport { AuthProvider } from './../../providers/auth/auth';\nimport { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, AlertController, LoadingController } from 'ionic-angular';\n\n@IonicPage()\n@Component({\n  selector: 'page-profile',\n  templateUrl: 'profile.html',\n})\nexport class ProfilePage {\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public auth: AuthProvider,\n    public alertCtrl: AlertController,\n    public loadingCtrl: LoadingController,\n    public fb: Facebook,\n    public fire: AngularFireAuth,\n    public firebaseDB: AngularFireDatabase,\n\n  ) {\n  }\n\n\n  //login with facebook\n  fblogin() {\n    // let permissions = new Array<string>();\n    //the permissions your facebook app needs from the user\n    // permissions = [\"mail\"];\n    //   let loader = this.loadingCtrl.create({\n      //     content: \"Please wait...\",\n      //   });\n      //   loader.present();\n      //   const fbCredential = firebase.auth.FacebookAuthProvider.credential(response.authResponse.accessToken);\n      //   this.fire.auth.signInWithCredential(fbCredential).then((user) => {\n        //     this.firebaseDB.database.ref(`userProfile/${user.uid}`).set({\n          //       displayName: user.displayName,\n          //       fullname: user.displayName,\n          //       photoURL: user.photoURL,\n          //       email: user.email,\n          //       emailVerified: user.emailVerified,\n          //       phoneNumber: 3434343,\n          //       matricNumber: 9999\n          //     });\n          this.fb.login(['email']).then((response) => {\n          let userId = response.authResponse.userID;\n          let params = new Array<string>();\n        // Getting name and gender properties\n          this.fb.api('/me?fields=name,gender', params)\n            .then((user) => {\n              //\n              //now we have the users info, let's save it in the firebase\n              this.fire.auth.onAuthStateChanged(auth => {\n                this.firebaseDB.database.ref(`/userProfile/${auth.uid}`)\n                  .update({\n                    fullname: user.name,\n                    photoURL: \"https://graph.facebook.com/\" + userId + \"/picture?type=large\",\n                   \n                  });\n              })\n              \n              })\n            })\n        }\n\n\n\n  logout() {\n    let confirm = this.alertCtrl.create({\n      message: 'Are you sure want to logout?',\n      buttons: [\n        {\n          text: 'Cancel',\n          handler: () => {\n            console.log('Disagree clicked');\n          }\n        },\n        {\n          text: 'Logout',\n          handler: () => {\n            console.log('Agree clicked');\n            this.fire.auth.signOut();\n            \n          }\n        }\n      ]\n    });\n    confirm.present();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profile/profile.ts"],"sourceRoot":""}