<ion-header>
    <ion-navbar color="primary">
        <button ion-button menuToggle>
        <ion-icon name="menu"></ion-icon>
        </button>
        <ion-title>Nearby Rides</ion-title>
    </ion-navbar>
    <ion-searchbar [(ngModel)]="myInput" [showCancelButton]="shouldShowCancel" (ionInput)="onInput($event)" (ionCancel)="onCancel($event)" placeholder="Quick Search">
    </ion-searchbar>





</ion-header>

<ion-content class="bg">

    <ion-card *ngFor="let trip of trips | keyobject | filterride | sortlatest">
        <!-- <span *ngIf="trip.from==='k14'"> -->
        <ion-card-header>
            <ion-grid>
                <ion-row>
                    <ion-col col-8>
                        <h2>{{trip.from}}
                            <ion-icon name="md-arrow-forward" color="primary"></ion-icon> {{trip.destination}}</h2>
                        <p class="date">{{trip.date}} - {{trip.time}}</p>
                    </ion-col>
                    <ion-col col-4>
                        <ion-chip>
                            <ion-icon [color]="trip.gender==='male' ? 'primary' : 'purple'" [name]="trip.gender==='male' ? 'ios-man' : 'ios-woman'"></ion-icon>
                        </ion-chip>
                        <ion-chip color="danger">
                            <ion-label>RM 0.50</ion-label>
                        </ion-chip>
                    </ion-col>
                </ion-row>
            </ion-grid>
            <hr>
        </ion-card-header>
        <ion-card-content>
            <ion-grid>
                <ion-row>
                    <ion-col col-2> <img class="profile" src="{{trip.userPhotoURL}}"></ion-col>
                    <ion-col col-7>

                        <h2>{{trip.name}}</h2>
                        <rating [(ngModel)]="trip.rate" readOnly="true" max="5" emptyStarIconName="star-outline" halfStarIconName="star-half" starIconName="star" nullable="false">
                            <!--use it when you need to do something when user clicks on a star. in case you only need to change ngModel property, this property can be ommited.-->
                        </rating>
                        <p class="message">{{trip.comment}}</p>
                        <ion-chip>
                            <ion-icon name="car" color="secondary"></ion-icon>
                            <ion-label>{{trip.seatOffered}} Seats Available</ion-label>
                        </ion-chip>

                    </ion-col>
                    <ion-col col-3>
                        <button ion-button outline (tap)="goDetail(trip)">book!</button>
                    </ion-col>
                </ion-row>
            </ion-grid>
        </ion-card-content>
        <!-- </span> -->
    </ion-card>
    <div class="dummy-footer"></div>
    <div class="footer">
        <ion-grid no-padding>
            <ion-row>
                <ion-col col-6 no-padding>
                    <button ion-button block color="primary" icon-left (tap)="offerride()">
                      <ion-icon name="car"></ion-icon>
                      Offer a Ride
                    </button>
                </ion-col>
                <ion-col col-6>
                    <button ion-button block color="purple" icon-left>
                      <ion-icon name="search"></ion-icon>
                      Find a Ride
                    </button>
                </ion-col>
            </ion-row>
        </ion-grid>
    </div>
</ion-content>